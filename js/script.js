const mainBlock=document.querySelector(".game"),typeButtons=mainBlock.querySelectorAll(".js-type-button"),nextButtons=mainBlock.querySelectorAll(".js-next-button"),homeButtons=mainBlock.querySelectorAll(".js-home-icon"),typeBlocks=mainBlock.querySelectorAll(".js-type"),chooseLists=mainBlock.querySelectorAll(".js-choose-list"),needScroll=window.innerWidth<1420;let currentBlock="main",nextBlock="";function scrollToTop(){let e=window.scrollY,t=performance.now();function o(l){let c=l-t,n=Math.min(c/500,1);window.scrollTo(0,e*(1-(n<.5?2*n*n:-1+(4-2*n)*n))),c<500&&requestAnimationFrame(o)}requestAnimationFrame(o)}window.addEventListener("DOMContentLoaded",function(){for(let e of(needScroll&&scrollToTop(),gsap.to(".main",{opacity:1,duration:1,zIndex:10}),chooseLists)){let t=e.querySelectorAll(".js-choose-item");for(let o of t)o.addEventListener("click",()=>{let t=o.querySelector('input[type="radio"]');if(t){let l=e.querySelector(".js-choose-item.active");l&&l!==o&&l.classList.remove("active"),o.classList.contains("active")||o.classList.add("active")}else o.classList.toggle("active")})}for(let l of typeBlocks)l.addEventListener("click",()=>{for(let e of typeButtons)e.setAttribute("data-go-to",l.value)});for(let c of nextButtons)c.addEventListener("click",()=>{needScroll&&scrollToTop(),n(currentBlock,nextBlock=c.getAttribute("data-go-to"));let e=currentBlock;setTimeout(()=>{gsap.to(`.${e}`,{left:"50%"})},1500),currentBlock=nextBlock,r(nextBlock)});function n(e,t){needScroll?(gsap.to(`.${e}`,{opacity:0,duration:.3,zIndex:0,y:20}),gsap.fromTo(`.${t}`,{opacity:0,y:-20},{opacity:1,duration:.3,zIndex:10,delay:.5,y:0})):(gsap.to(`.${e}`,{left:"-50%",opacity:0,duration:1,zIndex:0}),gsap.fromTo(`.${t}`,{left:"150%",opacity:0},{left:"50%",opacity:1,duration:1,zIndex:10}))}function r(e){let t=document.querySelector(`.${e}`),o=t.querySelectorAll("input"),l=1;for(let c of o)c.addEventListener("input",()=>{c.checked?--l:++l,l>0?gsap.to(`.${e} .game-flex__footer-button`,{disabled:!0}):gsap.to(`.${e} .game-flex__footer-button`,{disabled:!1})})}for(let i of homeButtons)i.addEventListener("click",()=>{needScroll?(scrollToTop(),gsap.to(`.${currentBlock}`,{opacity:0,duration:.3,zIndex:0,y:20}),gsap.to(".main",{left:"50%",opacity:1,duration:.3,zIndex:10,delay:.5,y:-20})):(gsap.to(`.${currentBlock}`,{opacity:0,duration:1,zIndex:0}),gsap.to(".main",{left:"50%",opacity:1,duration:1,zIndex:10}));let e=mainBlock.querySelectorAll("input:checked");for(let t of e)t.checked=!1;currentBlock="main",nextBlock="",gsap.to(".game-flex__footer-button",{disabled:!0});let o=mainBlock.querySelectorAll(".js-choose-item.active");if(o)for(let l of o)l.classList.remove("active")})});