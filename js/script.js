const mainBlock=document.querySelector(".game"),typeButtons=mainBlock.querySelectorAll(".js-type-button"),nextButtons=mainBlock.querySelectorAll(".js-next-button"),homeButtons=mainBlock.querySelectorAll(".js-home-icon"),typeBlocks=mainBlock.querySelectorAll(".js-type"),chooseLists=mainBlock.querySelectorAll(".js-choose-list"),needScroll=window.innerWidth<1420;let currentBlock="main",nextBlock="";function scrollToTop(){let e=window.scrollY,o=performance.now();function t(l){let n=l-o,c=Math.min(n/500,1);window.scrollTo(0,e*(1-(c<.5?2*c*c:-1+(4-2*c)*c))),n<500&&requestAnimationFrame(t)}requestAnimationFrame(t)}window.addEventListener("DOMContentLoaded",function(){for(let e of(needScroll&&scrollToTop(),gsap.to(".main",{display:"block"}),gsap.to(".main",{opacity:1,duration:1,zIndex:10,delay:.5}),chooseLists)){let o=e.querySelectorAll(".js-choose-item");for(let t of o)t.addEventListener("click",()=>{let o=t.querySelector('input[type="radio"]');if(o){let l=e.querySelector(".js-choose-item.active");l&&l!==t&&l.classList.remove("active"),t.classList.contains("active")||t.classList.add("active")}else t.classList.toggle("active")})}for(let l of typeBlocks)l.addEventListener("click",()=>{for(let e of typeButtons)e.setAttribute("data-go-to",l.value)});for(let n of nextButtons)n.addEventListener("click",()=>{needScroll&&scrollToTop(),c(currentBlock,nextBlock=n.getAttribute("data-go-to"));let e=currentBlock;setTimeout(()=>{gsap.to(`.${e}`,{left:"50%"})},1500),currentBlock=nextBlock,i(nextBlock)});function c(e,o){needScroll?(gsap.to(`.${e}`,{opacity:0,duration:.3,zIndex:0,y:20}),gsap.to(`.${e}`,{display:"none",delay:.5}),gsap.fromTo(`.${o}`,{display:"none"},{display:"block"}),gsap.fromTo(`.${o}`,{opacity:0,y:-20},{opacity:1,duration:.3,zIndex:10,delay:.5,y:0})):(gsap.to(`.${e}`,{left:"-50%",opacity:0,duration:1,zIndex:0}),gsap.to(`.${e}`,{display:"none",delay:.5}),gsap.fromTo(`.${o}`,{display:"none"},{display:"block"}),gsap.fromTo(`.${o}`,{left:"150%",opacity:0},{left:"50%",opacity:1,duration:1,zIndex:10,delay:.5}))}function i(e){let o=document.querySelector(`.${e}`),t=o.querySelectorAll("input"),l=1;for(let n of t)n.addEventListener("input",()=>{n.checked?--l:++l,l>0?gsap.to(`.${e} .game-flex__footer-button`,{disabled:!0}):gsap.to(`.${e} .game-flex__footer-button`,{disabled:!1})})}for(let r of homeButtons)r.addEventListener("click",()=>{needScroll?(scrollToTop(),gsap.to(`.${currentBlock}`,{opacity:0,duration:.3,zIndex:0,y:20}),gsap.to(`.${currentBlock}`,{display:"none",delay:.5}),gsap.to(".main",{display:"block"}),gsap.to(".main",{left:"50%",opacity:1,duration:.3,zIndex:10,delay:.5,y:-20})):(gsap.to(`.${currentBlock}`,{opacity:0,duration:1,zIndex:0}),gsap.to(`.${currentBlock}`,{display:"none",delay:.5}),gsap.to(".main",{display:"block"}),gsap.to(".main",{left:"50%",opacity:1,duration:1,zIndex:10}));let e=mainBlock.querySelectorAll("input:checked");for(let o of e)o.checked=!1;currentBlock="main",nextBlock="",gsap.to(".game-flex__footer-button",{disabled:!0});let t=mainBlock.querySelectorAll(".js-choose-item.active");if(t)for(let l of t)l.classList.remove("active")})});